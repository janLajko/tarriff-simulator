============================= test session starts ==============================
platform darwin -- Python 3.13.5, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/jan/Documents/7788/tariff-simulate-v2
plugins: anyio-4.11.0
collected 34 items

simulator/test/test_section232_rate.py test232_testcases.csv:2: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.87 (+5E+1%)'])
.test232_testcases.csv:3: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.89 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:4: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:5: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.87 (+5E+1%)'])
.test232_testcases.csv:6: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.90 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:7: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='225%', ch99_list=[Section232Ch99(ch99_id='9903.81.96', alias='9903.81.96', general_rate=Decimal('25.000'), ch99_description='Derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (s) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.99', alias='9903.81.99', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.81.98 or 9903.81.92, derivative products of iron or steel of the United Kingdom, as specified in subdivisions (s) and (t) of note 16 to this subchapter, admitted to a U.S.foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.85.04', alias='9903.85.04', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.85.68 or 9903.85.70, derivative aluminum products provided for in the tariff headings or subheadings enumerated in subdivision (i) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.13', alias='9903.85.13', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.85.68 or 9903.85.70, derivative aluminum products of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.96 (+25%), 9903.81.89 (+5E+1%), 9903.81.99 (+25%), 9903.81.93 (+5E+1%), 9903.85.04 (+5E+1%), 9903.85.13 (+25%)'])
Ftest232_testcases.csv:8: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.90 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:9: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='0%', ch99_list=[Section232Ch99(ch99_id='9903.81.92', alias='9903.81.92', general_rate=Decimal('0'), ch99_description='Derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision subdivisions (m), (n), (t) or (u) of note 16 to this subchapter, where the derivative iron or steel product was processed in another country from steel articles that were melted and poured in the United States.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.92 (0%)'])
.test232_testcases.csv:10: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.89 (+5E+1%), 9903.81.90 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:11: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.91 (+5E+1%)'])
.test232_testcases.csv:12: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.91 (+5E+1%)'])
Ftest232_testcases.csv:13: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='0%', ch99_list=[Section232Ch99(ch99_id='9903.81.92', alias='9903.81.92', general_rate=Decimal('0'), ch99_description='Derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision subdivisions (m), (n), (t) or (u) of note 16 to this subchapter, where the derivative iron or steel product was processed in another country from steel articles that were melted and poured in the United States.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.92 (0%)'])
.test232_testcases.csv:14: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='0%', ch99_list=[Section232Ch99(ch99_id='9903.81.92', alias='9903.81.92', general_rate=Decimal('0'), ch99_description='Derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision subdivisions (m), (n), (t) or (u) of note 16 to this subchapter, where the derivative iron or steel product was processed in another country from steel articles that were melted and poured in the United States.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.92 (0%)'])
.test232_testcases.csv:15: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='0%', ch99_list=[Section232Ch99(ch99_id='9903.81.92', alias='9903.81.92', general_rate=Decimal('0'), ch99_description='Derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision subdivisions (m), (n), (t) or (u) of note 16 to this subchapter, where the derivative iron or steel product was processed in another country from steel articles that were melted and poured in the United States.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.92 (0%)'])
.test232_testcases.csv:16: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.90 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:17: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.89 (+5E+1%)'])
Ftest232_testcases.csv:18: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.89 (+5E+1%)'])
Ftest232_testcases.csv:19: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.94', alias='9903.81.94', general_rate=Decimal('25.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.96, 9903.81.97 or 9903.81.98, products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.95', alias='9903.81.95', general_rate=Decimal('25.000'), ch99_description='Products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under “privileged foreign status” as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.94 (+25%), 9903.81.95 (+25%), 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:20: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.96', alias='9903.81.96', general_rate=Decimal('25.000'), ch99_description='Derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (s) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.99', alias='9903.81.99', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.81.98 or 9903.81.92, derivative products of iron or steel of the United Kingdom, as specified in subdivisions (s) and (t) of note 16 to this subchapter, admitted to a U.S.foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.96 (+25%), 9903.81.89 (+5E+1%), 9903.81.99 (+25%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:21: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='5E+1%', ch99_list=[Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:22: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.94', alias='9903.81.94', general_rate=Decimal('25.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.96, 9903.81.97 or 9903.81.98, products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.95', alias='9903.81.95', general_rate=Decimal('25.000'), ch99_description='Products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under “privileged foreign status” as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.94 (+25%), 9903.81.95 (+25%), 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:23: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.94', alias='9903.81.94', general_rate=Decimal('25.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.96, 9903.81.97 or 9903.81.98, products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.95', alias='9903.81.95', general_rate=Decimal('25.000'), ch99_description='Products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under “privileged foreign status” as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.94 (+25%), 9903.81.95 (+25%), 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:24: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.94', alias='9903.81.94', general_rate=Decimal('25.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.96, 9903.81.97 or 9903.81.98, products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.95', alias='9903.81.95', general_rate=Decimal('25.000'), ch99_description='Products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under “privileged foreign status” as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.94 (+25%), 9903.81.95 (+25%), 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:25: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.96', alias='9903.81.96', general_rate=Decimal('25.000'), ch99_description='Derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (s) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.99', alias='9903.81.99', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.81.98 or 9903.81.92, derivative products of iron or steel of the United Kingdom, as specified in subdivisions (s) and (t) of note 16 to this subchapter, admitted to a U.S.foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.96 (+25%), 9903.81.89 (+5E+1%), 9903.81.99 (+25%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:26: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.89', alias='9903.81.89', general_rate=Decimal('50.000'), ch99_description='Derivative iron or steel products provided for in the tariff provisions enumerated in subdivision (l) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.89 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:27: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.94', alias='9903.81.94', general_rate=Decimal('25.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.96, 9903.81.97 or 9903.81.98, products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.95', alias='9903.81.95', general_rate=Decimal('25.000'), ch99_description='Products of iron or steel of the United Kingdom provided for in the tariff headings or subheadings enumerated in subdivision (q) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under “privileged foreign status” as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.87', alias='9903.81.87', general_rate=Decimal('50.000'), ch99_description='Except for derivative iron or steel products described in headings 9903.81.89, 9903.81.90 or 9903.81.91, products of iron or steel provided for in the tariff headings or subheadings enumerated in subdivision (j) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.94 (+25%), 9903.81.95 (+25%), 9903.81.87 (+5E+1%)'])
Ftest232_testcases.csv:28: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.97', alias='9903.81.97', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (t) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.99', alias='9903.81.99', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.81.98 or 9903.81.92, derivative products of iron or steel of the United Kingdom, as specified in subdivisions (s) and (t) of note 16 to this subchapter, admitted to a U.S.foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.97 (+25%), 9903.81.90 (+5E+1%), 9903.81.99 (+25%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:29: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.97', alias='9903.81.97', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (t) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.99', alias='9903.81.99', general_rate=Decimal('25.000'), ch99_description='Except as provided in headings 9903.81.98 or 9903.81.92, derivative products of iron or steel of the United Kingdom, as specified in subdivisions (s) and (t) of note 16 to this subchapter, admitted to a U.S.foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025', amount=Decimal('0'), is_potential=True), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.97 (+25%), 9903.81.90 (+5E+1%), 9903.81.99 (+25%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:30: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.90', alias='9903.81.90', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (m) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.93', alias='9903.81.93', general_rate=Decimal('50.000'), ch99_description='Except as provided in headings 9903.81.91 or 9903.81.92, derivative products of iron or steel, as specified in subdivisions (l) and (m) of note 16 to this subchapter, admitted to a U.S. foreign trade zone under ‘‘privileged foreign status’’ as defined by 19 CFR 146.41, prior to 12:01 a.m. eastern daylight time on June 4, 2025.', amount=Decimal('0'), is_potential=True)], notes=['Applied Section 232 measures: 9903.81.90 (+5E+1%), 9903.81.93 (+5E+1%)'])
Ftest232_testcases.csv:31: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.98', alias='9903.81.98', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (u) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.08', alias='9903.85.08', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (k) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.15', alias='9903.85.15', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (s) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.98 (+25%), 9903.81.91 (+5E+1%), 9903.85.08 (+5E+1%), 9903.85.15 (+25%)'])
Ftest232_testcases.csv:32: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.98', alias='9903.81.98', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (u) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.08', alias='9903.85.08', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (k) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.15', alias='9903.85.15', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (s) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.98 (+25%), 9903.81.91 (+5E+1%), 9903.85.08 (+5E+1%), 9903.85.15 (+25%)'])
Ftest232_testcases.csv:33: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.98', alias='9903.81.98', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (u) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.08', alias='9903.85.08', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (k) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.15', alias='9903.85.15', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (s) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.98 (+25%), 9903.81.91 (+5E+1%), 9903.85.08 (+5E+1%), 9903.85.15 (+25%)'])
Ftest232_testcases.csv:34: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.98', alias='9903.81.98', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (u) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.08', alias='9903.85.08', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (k) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.15', alias='9903.85.15', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (s) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.98 (+25%), 9903.81.91 (+5E+1%), 9903.85.08 (+5E+1%), 9903.85.15 (+25%)'])
Ftest232_testcases.csv:35: Section232Computation(module_id='232', module_name='Section 232 Tariffs', applicable=True, amount=Decimal('0'), currency='USD', rate='1.5E+2%', ch99_list=[Section232Ch99(ch99_id='9903.81.98', alias='9903.81.98', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products of the United Kingdom provided for in the tariff subheadings enumerated in subdivision (u) of note 16 to this subchapter', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.81.91', alias='9903.81.91', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.81.92, derivative iron or steel products provided for in the tariff subheadings enumerated in subdivision (n) of note 16 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.08', alias='9903.85.08', general_rate=Decimal('50.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (k) of note 19 to this subchapter.', amount=Decimal('0'), is_potential=False), Section232Ch99(ch99_id='9903.85.15', alias='9903.85.15', general_rate=Decimal('25.000'), ch99_description='Except as provided in heading 9903.85.09, 9903.85.68 or 9903.85.70, derivative aluminum products, provided for in the tariff provisions enumerated in subdivision (s) of note 19 to this subchapter', amount=Decimal('0'), is_potential=False)], notes=['Applied Section 232 measures: 9903.81.98 (+25%), 9903.81.91 (+5E+1%), 9903.85.08 (+5E+1%), 9903.85.15 (+25%)', 'Additional Section 232 headings matched with zero rate: 9903.85.09'])
F

=================================== FAILURES ===================================
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:3] _____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 7, 15), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:3: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:4] _____

row_info = {'ambiguous': False, 'country': 'PL', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 6, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:4: unexpected summed duty rate
E       assert Decimal('50.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:6] _____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 7, 10), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:6: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:7] _____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 10), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:7: unexpected summed duty rate
E       assert Decimal('225.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:8] _____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 7, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:8: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:10] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 8, 5), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:10: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:12] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 3, 13), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:12: unexpected summed duty rate
E       assert Decimal('50.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:16] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 7, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:16: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:17] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 6, 3), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
        assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
    
        if not result.ch99_list:
            assert expected_duty == 0, f"{row_info['id']}: expected zero duty when no CH99 entries"
            assert result.applicable is False, f"{row_info['id']}: expected module to be inactive"
            assert result.rate in (None, "0%"), f"{row_info['id']}: unexpected rate display"
            return
    
        assert result.applicable is True, f"{row_info['id']}: expected duty to apply"
>       assert any(
            ch.ch99_id == expected_heading for ch in result.ch99_list
        ), f"{row_info['id']}: missing expected CH99 heading {expected_heading}"
E       AssertionError: test232_testcases.csv:17: missing expected CH99 heading 9903.81.93
E       assert False
E        +  where False = any(<generator object test_compute_section232_duty_against_fixture.<locals>.<genexpr> at 0x103ff3850>)

simulator/test/test_section232_rate.py:135: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:18] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 6, 5), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:18: unexpected summed duty rate
E       assert Decimal('50.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:19] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 15), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:19: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:20] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 15), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:20: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:21] ____

row_info = {'ambiguous': False, 'country': 'PL', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 7, 15), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:21: unexpected summed duty rate
E       assert Decimal('50.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:22] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 6, 3), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:22: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:23] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 6, 5), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:23: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:24] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 15), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:24: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:25] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 20), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:25: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:26] ____

row_info = {'ambiguous': False, 'country': 'CN', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 7, 20), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:26: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:27] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 7, 20), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:27: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:28] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 2, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:28: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:29] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 2, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:29: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:30] ____

row_info = {'ambiguous': False, 'country': 'DE', 'duty': Decimal('50'), 'entry_date': datetime.date(2025, 2, 1), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:30: unexpected summed duty rate
E       assert Decimal('100.000') == Decimal('50')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:31] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 6, 22), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:31: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:32] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 6, 24), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:32: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:33] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 8, 17), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:33: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:34] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('0'), 'entry_date': datetime.date(2025, 8, 19), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:34: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('0')

simulator/test/test_section232_rate.py:126: AssertionError
____ test_compute_section232_duty_against_fixture[test232_testcases.csv:35] ____

row_info = {'ambiguous': False, 'country': 'UK', 'duty': Decimal('25'), 'entry_date': datetime.date(2025, 8, 17), ...}

    @pytest.mark.parametrize("row_info", RAW_ROWS, ids=_fixture_id)
    def test_compute_section232_duty_against_fixture(row_info: dict):
        if row_info.get("ambiguous"):
            pytest.skip(
                f"{row_info['id']} has multiple expected duty outcomes for identical inputs."
            )
    
        result = section232_rate.compute_section232_duty(
            row_info["input_hts"],
            row_info["country"],
            row_info["entry_date"],
            row_info["melt_origin"],
        )
    
        print(f"{row_info['id']}: {result}")
    
        expected_duty = row_info["duty"]
        expected_heading = row_info["expected_heading"]
    
        total_rate = sum((ch.general_rate for ch in result.ch99_list), Decimal("0"))
>       assert total_rate == expected_duty, f"{row_info['id']}: unexpected summed duty rate"
E       AssertionError: test232_testcases.csv:35: unexpected summed duty rate
E       assert Decimal('150.000') == Decimal('25')

simulator/test/test_section232_rate.py:126: AssertionError
=========================== short test summary info ============================
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:3]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:4]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:6]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:7]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:8]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:10]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:12]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:16]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:17]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:18]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:19]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:20]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:21]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:22]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:23]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:24]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:25]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:26]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:27]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:28]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:29]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:30]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:31]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:32]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:33]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:34]
FAILED simulator/test/test_section232_rate.py::test_compute_section232_duty_against_fixture[test232_testcases.csv:35]
=================== 27 failed, 7 passed in 379.96s (0:06:19) ===================
